---
import { themes, type ThemeName } from "@astrahub/themes"

export interface Props {
  theme?: ThemeName
  variant?: string
  size?: string
  className?: string
  as?: string
  disabled?: boolean
}

const {
  theme = "astrahub",
  variant = "default",
  size = "default",
  className = "",
  as = "button",
  disabled = false
} = Astro.props

const selectedTheme = themes[theme]
const base = selectedTheme?.base ?? ""
const variantClass = selectedTheme?.variants?.[variant] ?? ""
const finalClass = [base, variantClass, className].join(" ").trim()
const tag = as
---

<component this={tag} class={finalClass} disabled={disabled}>
  <slot />
</component>